---
import Layout from "@layouts/Layout.astro";
import UsesComponent from "@components/react/uses/Uses";
import {getImage} from "astro:assets";
import image1 from "@assets/images/desk1.jpg";
import image2 from "@assets/images/desk2.jpg";
import image3 from "@assets/images/desk3.jpg";
import image4 from "@assets/images/desk4.jpg";
import image5 from "@assets/images/desk5.jpg";
import image6 from "@assets/images/desk6.jpg";
import image7 from "@assets/images/desk7.jpg";
import image8 from "@assets/images/desk8.jpg";
import {IMAGE_FORMAT} from "@components/react/carousel/Carousel";
import type {CarouselImage} from "@components/react/carousel/Carousel";

type Images = Omit<CarouselImage, "imgSrc"> & Record<"img", ImageMetadata>;
const images: Images[] = [
	{
		id: 1,
		format: IMAGE_FORMAT.LANDSCAPE,
		img: image1,
		alt: "Desk Image 1",
	},
	{
		id: 2,
		format: IMAGE_FORMAT.PORTRAIT,
		img: image2,
		alt: "Desk Image 2",
	},
	{
		id: 3,
		format: IMAGE_FORMAT.PORTRAIT,
		img: image3,
		alt: "Desk Image 3",
	},
	{
		id: 4,
		format: IMAGE_FORMAT.LANDSCAPE,
		img: image4,
		alt: "Desk Image 4",
	},
	{
		id: 5,
		format: IMAGE_FORMAT.LANDSCAPE,
		img: image5,
		alt: "Desk Image 5",
	},
	{
		id: 6,
		format: IMAGE_FORMAT.LANDSCAPE,
		img: image6,
		alt: "Desk Image 6",
	},
	{
		id: 7,
		format: IMAGE_FORMAT.PORTRAIT,
		img: image7,
		alt: "Desk Image 7",
	},
	{
		id: 8,
		format: IMAGE_FORMAT.LANDSCAPE,
		img: image8,
		alt: "Desk Image 8",
	},
];

const optimizedImages: CarouselImage[] = await Promise.all(
	images.map(async ({img, ...rest}) => ({
		...rest,
		imgSrc: (await getImage({src: img})).src,
	})),
);
---

<Layout headerText="Uses">
	<UsesComponent
		showHeader={false}
		client:only="react"
		images={optimizedImages}
	/>
</Layout>
